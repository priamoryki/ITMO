CREATE VIEW Debts AS
SELECT StudentId, COUNT(DISTINCT CourseId) AS Debts
FROM Students NATURAL JOIN Plan NATURAL LEFT JOIN Marks
WHERE Mark IS NULL
GROUP BY StudentId
